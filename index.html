<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="css/jquery.mobile-1.4.5.css" rel="stylesheet" />
<link href="css/jquery.mobile.theme-1.4.5.css" rel="stylesheet" />
<link href="css/jquery.mobile.structure-1.4.5.css" rel="stylesheet" />
<!--script src="js/cordova.js" type="text/jscript" ></script-->
<script src="phonegap.js"></script>
<script src="js/jquery-2.1.4.min.js" type="text/javascript" ></script>
<script src="js/jquery.mobile-1.4.5.js" type="text/javascript"></script> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Documento sin título</title>
<script type="text/javascript">
var watchID = null;
// The radius for our circle object
var radius = 50;
// Set the event listener to run when the device is ready
document.addEventListener("deviceready", onDeviceReady, false);
// The device is ready so let's
// start watching the acceleration
function onDeviceReady() {
startWatch();
}
function startWatch() {
// Set the frequency of updates from the acceleration
var options = { frequency: 100 };
// Assign watchAcceleration to the watchID variable
// and pass through the options array
watchID =
navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
}
function onSuccess(acceleration) {
// Initial X Y positions
var x = 0;
var y = 0;
// Velocity / Speed
var vx = 0;
var vy = 0;
// Acceleration
var accelX = 0;
var accelY = 0;
// Multiplier to create proper pixel measurements
var vMultiplier = 100;
// Create a reference to our div elements
var dot = document.getElementById('dot');
var accelElement =document.getElementById('accelerometerData');
// The rest of the code will go here

accelX = acceleration.x;
accelY = acceleration.y;
vy = vy + -(accelY);
vx = vx + accelX;
y = parseInt(y + vy * vMultiplier);
x = parseInt(x + vx * vMultiplier);
if (x<0) { x = 0; vx = 0; }
if (y<0) { y = 0; vy = 0; }
if (x>document.documentElement.clientWidth-radius) {
x = document.documentElement.clientWidth-radius; vx = 0;
}
if (y>document.documentElement.clientHeight-radius) {
y = document.documentElement.clientHeight-radius; vy = 0;
}
// Apply the position to the dot element
dot.style.top = y + "px";
dot.style.left = x + "px";
// Output the acceleration results to the screen
accelElement.innerHTML = 'Acceleration X: ' + acceleration.x + '<br />' +'Acceleration Y: ' + acceleration.y + '<br />' +'Acceleration Z: ' + acceleration.z + '<br />' +'Timestamp: ' + acceleration.timestamp + '<br />' +
'Move Top: ' + y + 'px<br />' +'Move Left: ' + x + 'px';
}
// Run if we face an error
// obtaining the accelerometer data
function onError() {
// Handle any errors we may face
var accelElement =
document.getElementById('accelerometerData');
accelElement.innerHTML ='Sorry, I was unable to access the acceleration data.';
}

</script>
<style type="text/css">
	p{
		text-align:center;
	}
</style>
</head>

<body>
<div data-role="page" id="principal" data-theme="b">
	<div data-role="header">
    	<p>Acelerometro</p>
    </div> 
    <div data-role="content">
    	<p>Contenido de la aplicación</p>
        <h1>Accelerometer Movement</h1>
		<div id="dot"></div>
		<div id="accelerometerData">Obtaining data...</div>
    </div>
    <div data-role="footer" data-position="fixed">
    	<p>Pie de aplicación</p>
    </div>
</div>

</body>
</html>
